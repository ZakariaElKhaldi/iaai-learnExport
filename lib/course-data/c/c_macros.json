{
  "title": "C Preprocessor and Macros",
  "url": "https://www.w3schools.com/c/c_macros.php",
  "metadata": {
    "viewport": "width=device-width, initial-scale=1",
    "title": "W3Schools.com",
    "Keywords": "HTML, Python, CSS, SQL, JavaScript, How to, PHP, Java, C, C++, C#, jQuery, Bootstrap, Colors, W3.CSS, XML, MySQL, Icons, NodeJS, React, Graphics, Angular, R, AI, Git, Data Science, Code Game, Tutorials, Programming, Web Development, Training, Learning, Quiz, Exercises, Courses, Lessons, References, Examples, Learn to code, Source code, Demos, Tips, Website",
    "Description": "Well organized and easy to understand Web building tutorials with lots of examples of how to use HTML, CSS, JavaScript, SQL, PHP, Python, Bootstrap, Java and XML.",
    "og:image": "https://www.w3schools.com/images/w3schools_logo_436_2.png",
    "og:image:type": "image/png",
    "og:image:width": "436",
    "og:image:height": "228",
    "og:description": "W3Schools offers free online tutorials, references and exercises in all the major languages of the web. Covering popular subjects like HTML, CSS, JavaScript, Python, SQL, Java, and many, many more.",
    "msapplication-TileColor": "#00a300",
    "theme-color": "#ffffff",
    "keywords": "HTML, Python, CSS, SQL, JavaScript, How to, PHP, Java, C, C++, C#, jQuery, Bootstrap, Colors, W3.CSS, XML, MySQL, Icons, NodeJS, React, Graphics, Angular, R, AI, Git, Data Science, Code Game, Tutorials, Programming, Web Development, Training, Learning, Quiz, Exercises, Courses, Lessons, References, Examples, Learn to code, Source code, Demos, Tips, Website"
  },
  "content": [
    {
      "type": "header",
      "metadata": {
        "level": "h1"
      },
      "text": "C Preprocessor and Macros",
      "level": "h1"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "Preprocessor and Macros",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "In C, the preprocessor runs before the actual compilation begins. It handles things like including files and defining macros .",
      "html": "<p>In C, the <strong>preprocessor</strong> runs before the actual compilation begins. It handles things like including files and defining \n<strong>macros</strong>.</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Preprocessor commands begin with a # symbol and are called directives .",
      "html": "<p>Preprocessor commands begin with a <code>#</code> symbol and are called <strong>directives</strong>.</p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "#include - Include Header Files",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "You have already seen the #include directive many times - It tells the compiler to include a file.",
      "html": "<p>You have already seen the <code>#include</code> directive many times - It tells the compiler to include a file.</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "It is used to add libraries or custom header files:",
      "html": "<p>It is used to add libraries or custom header files:</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "unknown",
        "tryItLink": null,
        "syntaxHighlighting": [
          {
            "text": "\n#include <stdio.h>#include \"myfile.h\"\n   ",
            "color": "rgb(0, 0, 0)",
            "class": "javacolor"
          },
          {
            "text": "h",
            "color": "rgb(0, 0, 0)",
            "class": "javapropertycolor"
          },
          {
            "text": "\"myfile.h\"",
            "color": "rgb(0, 128, 0)",
            "class": "javastringcolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          }
        ],
        "classList": [
          "w3-code",
          "notranslate",
          "javaHigh"
        ],
        "isNotranslate": true
      },
      "code": "#include <stdio.h>#include \"myfile.h\"",
      "syntax_highlighting": [
        {
          "text": "\n#include <stdio.h>#include \"myfile.h\"\n ",
          "color": "black",
          "class": [
            "javacolor"
          ]
        },
        {
          "text": "h",
          "color": "black",
          "class": [
            "javapropertycolor"
          ]
        },
        {
          "text": "\"myfile.h\"",
          "color": "green",
          "class": [
            "javastringcolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        }
      ],
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate javaHigh\"><span class=\"javacolor\" style=\"color:black\">\n#include &lt;stdio.<span class=\"javapropertycolor\" style=\"color:black\">h</span>&gt;<br/>#include <span class=\"javastringcolor\" style=\"color:green\">\"myfile.h\"</span><span class=\"javanumbercolor\" style=\"color:#905\">\n</span> </span></div>",
      "code_classes": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "tryItLink": null,
      "syntax_highlighting_data": [
        {
          "text": "\n#include <stdio.h>#include \"myfile.h\"\n   ",
          "color": "rgb(0, 0, 0)",
          "class": "javacolor"
        },
        {
          "text": "h",
          "color": "rgb(0, 0, 0)",
          "class": "javapropertycolor"
        },
        {
          "text": "\"myfile.h\"",
          "color": "rgb(0, 128, 0)",
          "class": "javastringcolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        }
      ],
      "class_list": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Use angle brackets < > for standard libraries and double quotes \" \" for your own files.",
      "html": "<p>Use angle brackets <code>&lt; &gt;</code> for standard libraries and double quotes <code>\" \"</code> for your own files.</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "C \nReference Documentation",
          "href": "https://www.w3schools.com/c_ref_reference.php",
          "title": ""
        }
      ],
      "text": "Tip: The most commonly used libraries can be found in our C Reference Documentation .",
      "html": "<p><strong>Tip:</strong> The most commonly used libraries can be found in our <a href=\"c_ref_reference.php\">C \nReference Documentation</a>.</p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "#define - Create a Macro",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "A macro is a name that represents a value (like PI), or a piece of code, defined using the #define directive.",
      "html": "<p>A macro is a name that represents a value (like PI), or a piece of code, \ndefined using the <code>#define</code> directive.</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "In the example below, PI is replaced with 3.14 before the program is compiled.",
      "html": "<p>In the example below, <code>PI</code> is replaced with <code>3.14</code> \nbefore the program is compiled.</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "This means that every time PI appears in the code, it will be replaced with 3.14 :",
      "html": "<p>This means that every time <code>PI</code> appears in the \ncode, it will be replaced with <code>3.14</code>:</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "css",
        "tryItLink": "https://www.w3schools.com/c/tryc.php?filename=demo_macros_define",
        "syntaxHighlighting": [
          {
            "text": "\n    #define PI 3.14int main() {\u00a0 printf(\"Value of PI: %.2f\\n\", PI);\u00a0 return 0;}\n   ",
            "color": "rgb(0, 0, 0)",
            "class": "javacolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "3.14",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "int",
            "color": "rgb(0, 92, 197)",
            "class": "javakeywordcolor"
          },
          {
            "text": "\"Value of PI: %.2f\\n\"",
            "color": "rgb(0, 128, 0)",
            "class": "javastringcolor"
          },
          {
            "text": "return",
            "color": "rgb(0, 92, 197)",
            "class": "javakeywordcolor"
          },
          {
            "text": "0",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          }
        ],
        "classList": [
          "w3-code",
          "notranslate",
          "javaHigh"
        ],
        "isNotranslate": true
      },
      "code": "#define PI 3.14int main() {\u00a0 printf(\"Value of PI: %.2f\\n\", PI);\u00a0 return 0;}",
      "syntax_highlighting": [
        {
          "text": "\n    #define PI 3.14int main() {\u00a0 printf(\"Value of PI: %.2f\\n\", PI);\u00a0 return 0;}\n ",
          "color": "black",
          "class": [
            "javacolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "3.14",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "int",
          "color": "#005cc5",
          "class": [
            "javakeywordcolor"
          ]
        },
        {
          "text": "\"Value of PI: %.2f\\n\"",
          "color": "green",
          "class": [
            "javastringcolor"
          ]
        },
        {
          "text": "return",
          "color": "#005cc5",
          "class": [
            "javakeywordcolor"
          ]
        },
        {
          "text": "0",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        }
      ],
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate javaHigh\"><span class=\"javacolor\" style=\"color:black\"><span class=\"javanumbercolor\" style=\"color:#905\">\n</span>    #define PI <span class=\"javanumbercolor\" style=\"color:#905\">3.14</span><br/><br/><span class=\"javakeywordcolor\" style=\"color:#005cc5\">int</span> main() {<br/>\u00a0 printf(<span class=\"javastringcolor\" style=\"color:green\">\"Value of PI: %.2f\\n\"</span>, PI);<br/>\u00a0 <span class=\"javakeywordcolor\" style=\"color:#005cc5\">return</span> <span class=\"javanumbercolor\" style=\"color:#905\">0</span>;<br/>}<span class=\"javanumbercolor\" style=\"color:#905\">\n</span> </span></div>",
      "code_classes": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "tryItLink": "https://www.w3schools.com/c/tryc.php?filename=demo_macros_define",
      "syntax_highlighting_data": [
        {
          "text": "\n    #define PI 3.14int main() {\u00a0 printf(\"Value of PI: %.2f\\n\", PI);\u00a0 return 0;}\n   ",
          "color": "rgb(0, 0, 0)",
          "class": "javacolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "3.14",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "int",
          "color": "rgb(0, 92, 197)",
          "class": "javakeywordcolor"
        },
        {
          "text": "\"Value of PI: %.2f\\n\"",
          "color": "rgb(0, 128, 0)",
          "class": "javastringcolor"
        },
        {
          "text": "return",
          "color": "rgb(0, 92, 197)",
          "class": "javakeywordcolor"
        },
        {
          "text": "0",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        }
      ],
      "class_list": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Macros can also take parameters, like a function:",
      "html": "<p>Macros can also take parameters, like a function:</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "css",
        "tryItLink": "https://www.w3schools.com/c/tryc.php?filename=demo_macros_define2",
        "syntaxHighlighting": [
          {
            "text": "\n    #define SQUARE(x) ((x) * (x))int main() {\u00a0 printf(\"Square of 4: %d\\n\", SQUARE(4));\u00a0 return 0;}\n   ",
            "color": "rgb(0, 0, 0)",
            "class": "javacolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "int",
            "color": "rgb(0, 92, 197)",
            "class": "javakeywordcolor"
          },
          {
            "text": "\"Square of 4: %d\\n\"",
            "color": "rgb(0, 128, 0)",
            "class": "javastringcolor"
          },
          {
            "text": "4",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "return",
            "color": "rgb(0, 92, 197)",
            "class": "javakeywordcolor"
          },
          {
            "text": "0",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          }
        ],
        "classList": [
          "w3-code",
          "notranslate",
          "javaHigh"
        ],
        "isNotranslate": true
      },
      "code": "#define SQUARE(x) ((x) * (x))int main() {\u00a0 printf(\"Square of 4: %d\\n\", SQUARE(4));\u00a0 return 0;}",
      "syntax_highlighting": [
        {
          "text": "\n    #define SQUARE(x) ((x) * (x))int main() {\u00a0 printf(\"Square of 4: %d\\n\", SQUARE(4));\u00a0 return 0;}\n ",
          "color": "black",
          "class": [
            "javacolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "int",
          "color": "#005cc5",
          "class": [
            "javakeywordcolor"
          ]
        },
        {
          "text": "\"Square of 4: %d\\n\"",
          "color": "green",
          "class": [
            "javastringcolor"
          ]
        },
        {
          "text": "4",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "return",
          "color": "#005cc5",
          "class": [
            "javakeywordcolor"
          ]
        },
        {
          "text": "0",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        }
      ],
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate javaHigh\"><span class=\"javacolor\" style=\"color:black\"><span class=\"javanumbercolor\" style=\"color:#905\">\n</span>    #define SQUARE(x) ((x) * (x))<br/><br/><span class=\"javakeywordcolor\" style=\"color:#005cc5\">int</span> main() {<br/>\u00a0 printf(<span class=\"javastringcolor\" style=\"color:green\">\"Square of 4: %d\\n\"</span>, SQUARE(<span class=\"javanumbercolor\" style=\"color:#905\">4</span>));<br/>\u00a0 <span class=\"javakeywordcolor\" style=\"color:#005cc5\">return</span> <span class=\"javanumbercolor\" style=\"color:#905\">0</span>;<br/>}<span class=\"javanumbercolor\" style=\"color:#905\">\n</span> </span></div>",
      "code_classes": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "tryItLink": "https://www.w3schools.com/c/tryc.php?filename=demo_macros_define2",
      "syntax_highlighting_data": [
        {
          "text": "\n    #define SQUARE(x) ((x) * (x))int main() {\u00a0 printf(\"Square of 4: %d\\n\", SQUARE(4));\u00a0 return 0;}\n   ",
          "color": "rgb(0, 0, 0)",
          "class": "javacolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "int",
          "color": "rgb(0, 92, 197)",
          "class": "javakeywordcolor"
        },
        {
          "text": "\"Square of 4: %d\\n\"",
          "color": "rgb(0, 128, 0)",
          "class": "javastringcolor"
        },
        {
          "text": "4",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "return",
          "color": "rgb(0, 92, 197)",
          "class": "javakeywordcolor"
        },
        {
          "text": "0",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        }
      ],
      "class_list": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Macros with parameters work like shortcuts, but be careful with parentheses to avoid mistakes.",
      "html": "<p>Macros with parameters work like shortcuts, but be careful with parentheses to avoid mistakes.</p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "#ifdef and #ifndef - Conditional Compilation",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "You can use #ifdef and #ifndef to compile parts of the code only if certain macros are (or are not) defined:",
      "html": "<p>You can use <code>#ifdef</code> and <code>#ifndef</code> \nto compile parts of the code only if certain macros are (or are not) defined:</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "python",
        "tryItLink": "https://www.w3schools.com/c/tryc.php?filename=demo_macros_ifdef",
        "syntaxHighlighting": [
          {
            "text": "\n    #define DEBUGint main() {\u00a0 #ifdef DEBUG\u00a0\u00a0\u00a0 printf(\"Debug mode is ON\\n\");\u00a0 #endif\u00a0 return 0;}\n   ",
            "color": "rgb(0, 0, 0)",
            "class": "javacolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "int",
            "color": "rgb(0, 92, 197)",
            "class": "javakeywordcolor"
          },
          {
            "text": "\"Debug mode is ON\\n\"",
            "color": "rgb(0, 128, 0)",
            "class": "javastringcolor"
          },
          {
            "text": "return",
            "color": "rgb(0, 92, 197)",
            "class": "javakeywordcolor"
          },
          {
            "text": "0",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          },
          {
            "text": "\n",
            "color": "rgb(153, 0, 85)",
            "class": "javanumbercolor"
          }
        ],
        "classList": [
          "w3-code",
          "notranslate",
          "javaHigh"
        ],
        "isNotranslate": true
      },
      "code": "#define DEBUGint main() {\u00a0 #ifdef DEBUG\u00a0\u00a0\u00a0 printf(\"Debug mode is ON\\n\");\u00a0 #endif\u00a0 return 0;}",
      "syntax_highlighting": [
        {
          "text": "\n    #define DEBUGint main() {\u00a0 #ifdef DEBUG\u00a0\u00a0\u00a0 printf(\"Debug mode is ON\\n\");\u00a0 #endif\u00a0 return 0;}\n ",
          "color": "black",
          "class": [
            "javacolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "int",
          "color": "#005cc5",
          "class": [
            "javakeywordcolor"
          ]
        },
        {
          "text": "\"Debug mode is ON\\n\"",
          "color": "green",
          "class": [
            "javastringcolor"
          ]
        },
        {
          "text": "return",
          "color": "#005cc5",
          "class": [
            "javakeywordcolor"
          ]
        },
        {
          "text": "0",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        },
        {
          "text": "\n",
          "color": "#905",
          "class": [
            "javanumbercolor"
          ]
        }
      ],
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate javaHigh\"><span class=\"javacolor\" style=\"color:black\"><span class=\"javanumbercolor\" style=\"color:#905\">\n</span>    #define DEBUG<br/><br/><span class=\"javakeywordcolor\" style=\"color:#005cc5\">int</span> main() {<br/>\u00a0 #ifdef DEBUG<br/>\u00a0\u00a0\u00a0 printf(<span class=\"javastringcolor\" style=\"color:green\">\"Debug mode is ON\\n\"</span>);<br/>\u00a0 #endif<br/>\u00a0 <span class=\"javakeywordcolor\" style=\"color:#005cc5\">return</span> <span class=\"javanumbercolor\" style=\"color:#905\">0</span>;<br/>}<span class=\"javanumbercolor\" style=\"color:#905\">\n</span> </span></div>",
      "code_classes": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "tryItLink": "https://www.w3schools.com/c/tryc.php?filename=demo_macros_ifdef",
      "syntax_highlighting_data": [
        {
          "text": "\n    #define DEBUGint main() {\u00a0 #ifdef DEBUG\u00a0\u00a0\u00a0 printf(\"Debug mode is ON\\n\");\u00a0 #endif\u00a0 return 0;}\n   ",
          "color": "rgb(0, 0, 0)",
          "class": "javacolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "int",
          "color": "rgb(0, 92, 197)",
          "class": "javakeywordcolor"
        },
        {
          "text": "\"Debug mode is ON\\n\"",
          "color": "rgb(0, 128, 0)",
          "class": "javastringcolor"
        },
        {
          "text": "return",
          "color": "rgb(0, 92, 197)",
          "class": "javakeywordcolor"
        },
        {
          "text": "0",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        },
        {
          "text": "\n",
          "color": "rgb(153, 0, 85)",
          "class": "javanumbercolor"
        }
      ],
      "class_list": [
        "w3-code",
        "notranslate",
        "javaHigh"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "This is useful for debugging or building different versions of the same program.",
      "html": "<p>This is useful for debugging or building different versions of the same program.</p>"
    }
  ]
}