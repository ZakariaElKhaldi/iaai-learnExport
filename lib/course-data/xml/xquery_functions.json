{
  "title": "XQuery Functions",
  "url": "https://www.w3schools.com/xml/xquery_functions.asp",
  "metadata": {
    "viewport": "width=device-width, initial-scale=1",
    "title": "W3Schools.com",
    "Keywords": "HTML, Python, CSS, SQL, JavaScript, How to, PHP, Java, C, C++, C#, jQuery, Bootstrap, Colors, W3.CSS, XML, MySQL, Icons, NodeJS, React, Graphics, Angular, R, AI, Git, Data Science, Code Game, Tutorials, Programming, Web Development, Training, Learning, Quiz, Exercises, Courses, Lessons, References, Examples, Learn to code, Source code, Demos, Tips, Website",
    "Description": "Well organized and easy to understand Web building tutorials with lots of examples of how to use HTML, CSS, JavaScript, SQL, Python, PHP, Bootstrap, Java, XML and more.",
    "og:image": "https://www.w3schools.com/images/w3schools_logo_436_2.png",
    "og:image:type": "image/png",
    "og:image:width": "436",
    "og:image:height": "228",
    "og:description": "W3Schools offers free online tutorials, references and exercises in all the major languages of the web. Covering popular subjects like HTML, CSS, JavaScript, Python, SQL, Java, and many, many more.",
    "msapplication-TileColor": "#00a300",
    "theme-color": "#ffffff",
    "keywords": "HTML, Python, CSS, SQL, JavaScript, How to, PHP, Java, C, C++, C#, jQuery, Bootstrap, Colors, W3.CSS, XML, MySQL, Icons, NodeJS, React, Graphics, Angular, R, AI, Git, Data Science, Code Game, Tutorials, Programming, Web Development, Training, Learning, Quiz, Exercises, Courses, Lessons, References, Examples, Learn to code, Source code, Demos, Tips, Website"
  },
  "content": [
    {
      "type": "header",
      "metadata": {
        "level": "h1"
      },
      "text": "XQuery Functions",
      "level": "h1"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "XQuery 1.0, XPath 2.0, and XSLT 2.0 share the same functions library.",
      "html": "<p class=\"intro\">XQuery 1.0, XPath 2.0, and XSLT 2.0 share the same functions library.</p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "XQuery Functions",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "XQuery is built on XPath expressions. XQuery 1.0 and XPath 2.0 share the same data model and support the same functions and operators.",
      "html": "<p>XQuery is built on XPath expressions. XQuery 1.0 and XPath 2.0 share the same \ndata model and support the same functions and operators. </p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "XPath Operators",
          "href": "https://www.w3schools.com/xpath_operators.asp",
          "title": ""
        }
      ],
      "text": "XPath Operators",
      "html": "<p><a href=\"xpath_operators.asp\">XPath Operators</a></p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "XPath Functions",
          "href": "https://www.w3schools.com/xsl_functions.asp",
          "title": ""
        }
      ],
      "text": "XPath Functions",
      "html": "<p><a href=\"xsl_functions.asp\">XPath Functions</a></p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "You can also define your own functions in XQuery.",
      "html": "<p>You can also define your own functions in XQuery.</p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "XQuery Data Types",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "XQuery shares the same data types as XML Schema 1.0 (XSD).",
      "html": "<p>XQuery shares the same data types as XML Schema 1.0 (XSD).</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "XSD String",
          "href": "https://www.w3schools.com/xml/schema_dtypes_string.asp",
          "title": ""
        }
      ],
      "text": "XSD String",
      "html": "<p><a href=\"/xml/schema_dtypes_string.asp\">XSD String</a></p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "XSD Date",
          "href": "https://www.w3schools.com/xml/schema_dtypes_date.asp",
          "title": ""
        }
      ],
      "text": "XSD Date",
      "html": "<p><a href=\"/xml/schema_dtypes_date.asp\">XSD Date</a></p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "XSD Numeric",
          "href": "https://www.w3schools.com/xml/schema_dtypes_numeric.asp",
          "title": ""
        }
      ],
      "text": "XSD Numeric",
      "html": "<p><a href=\"/xml/schema_dtypes_numeric.asp\">XSD Numeric</a></p>"
    },
    {
      "type": "text",
      "metadata": {},
      "links": [
        {
          "text": "XSD Misc",
          "href": "https://www.w3schools.com/xml/schema_dtypes_misc.asp",
          "title": ""
        }
      ],
      "text": "XSD Misc",
      "html": "<p><a href=\"/xml/schema_dtypes_misc.asp\">XSD Misc</a></p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "Examples of Function Calls",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "A call to a function can appear where an expression may appear. Look at the examples below:",
      "html": "<p>A call to a function can appear where an expression may appear. Look at the examples below:</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Example 1: In an element",
      "html": "<p>Example 1: In an element</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "unknown",
        "tryItLink": null,
        "syntaxHighlighting": [],
        "classList": [
          "w3-code",
          "notranslate"
        ],
        "isNotranslate": true
      },
      "code": "<name>{upper-case($booktitle)}</name>",
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate\">\n&lt;name&gt;{upper-case($booktitle)}&lt;/name&gt;\n</div>",
      "code_classes": [
        "w3-code",
        "notranslate"
      ],
      "tryItLink": null,
      "syntax_highlighting_data": [],
      "class_list": [
        "w3-code",
        "notranslate"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Example 2: In the predicate of a path expression",
      "html": "<p>Example 2: In the predicate of a path expression</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "unknown",
        "tryItLink": null,
        "syntaxHighlighting": [],
        "classList": [
          "w3-code",
          "notranslate"
        ],
        "isNotranslate": true
      },
      "code": "doc(\"books.xml\")/bookstore/book[substring(title,1,5)='Harry']",
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate\">\ndoc(\"books.xml\")/bookstore/book[substring(title,1,5)='Harry']\n</div>",
      "code_classes": [
        "w3-code",
        "notranslate"
      ],
      "tryItLink": null,
      "syntax_highlighting_data": [],
      "class_list": [
        "w3-code",
        "notranslate"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Example 3: In a let clause",
      "html": "<p>Example 3: In a let clause</p>"
    },
    {
      "type": "code",
      "metadata": {
        "language": "unknown",
        "tryItLink": null,
        "syntaxHighlighting": [],
        "classList": [
          "w3-code",
          "notranslate"
        ],
        "isNotranslate": true
      },
      "code": "let $name := (substring($booktitle,1,4))",
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate\">\nlet $name := (substring($booktitle,1,4))\n</div>",
      "code_classes": [
        "w3-code",
        "notranslate"
      ],
      "tryItLink": null,
      "syntax_highlighting_data": [],
      "class_list": [
        "w3-code",
        "notranslate"
      ],
      "is_notranslate": true
    },
    {
      "type": "header",
      "metadata": {
        "level": "h2"
      },
      "text": "XQuery User-Defined Functions",
      "level": "h2"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "If you cannot find the XQuery function you need, you can write your own.",
      "html": "<p>If you cannot find the XQuery function you need, you can write your own.</p>"
    },
    {
      "type": "text",
      "metadata": {},
      "text": "User-defined functions can be defined in the query or in a separate library.",
      "html": "<p>User-defined functions can be defined in the query or in a separate library.</p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h3"
      },
      "text": "Syntax",
      "level": "h3"
    },
    {
      "type": "code",
      "metadata": {
        "language": "css",
        "tryItLink": null,
        "syntaxHighlighting": [],
        "classList": [
          "w3-code",
          "notranslate"
        ],
        "isNotranslate": true
      },
      "code": "declare function($)\n\nas\n\n{\n\n......\n\n};",
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate\">\ndeclare function <i>prefix:function_name</i>($<i>parameter as datatype</i>)<br/>\nas <i>returnDatatype</i><br/>\n{<br/>\n\u00a0...<i>function code here</i>...<br/>\n};</div>",
      "code_classes": [
        "w3-code",
        "notranslate"
      ],
      "tryItLink": null,
      "syntax_highlighting_data": [],
      "class_list": [
        "w3-code",
        "notranslate"
      ],
      "is_notranslate": true
    },
    {
      "type": "text",
      "metadata": {},
      "text": "Notes on user-defined functions:",
      "html": "<p>Notes on user-defined functions: </p>"
    },
    {
      "type": "header",
      "metadata": {
        "level": "h3"
      },
      "text": "Example of a User-defined Function Declared in the Query",
      "level": "h3"
    },
    {
      "type": "code",
      "metadata": {
        "language": "css",
        "tryItLink": null,
        "syntaxHighlighting": [],
        "classList": [
          "w3-code",
          "notranslate"
        ],
        "isNotranslate": true
      },
      "code": "declare function local:minPrice($p as xs:decimal?,$d as xs:decimal?)\n\nas xs:decimal?\n\n{\n\nlet $disc := ($p * $d) div 100\n\nreturn ($p - $disc)\n\n};\n\n\nBelow is an example of how to call the function above:\n\n\n<minPrice>{local:minPrice($book/price,$book/discount)}</minPrice>",
      "language": "html",
      "code_html": "<div class=\"w3-code notranslate\">\ndeclare function local:minPrice($p as xs:decimal?,$d as xs:decimal?)<br/>\n    as xs:decimal?<br/>\n{<br/>\nlet $disc := ($p * $d) div 100<br/>\nreturn ($p - $disc)<br/>\n};<br/><br/>\nBelow is an example of how to call the function above:<br/><br/>\n&lt;minPrice&gt;{local:minPrice($book/price,$book/discount)}&lt;/minPrice&gt;\n</div>",
      "code_classes": [
        "w3-code",
        "notranslate"
      ],
      "tryItLink": null,
      "syntax_highlighting_data": [],
      "class_list": [
        "w3-code",
        "notranslate"
      ],
      "is_notranslate": true
    }
  ]
}